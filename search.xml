<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>不想使用全局用户？教你为Hexo博客单独配置指定的git用户</title>
      <link href="/2020/04/09/hexo-d-1/"/>
      <url>/2020/04/09/hexo-d-1/</url>
      
        <content type="html"><![CDATA[<h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><p>众所周知，Hexo 博客在 deploy 时，默认使用的是 Git全局用户。近期因为个人需要，在一台PC上配置了多个 git账户（取消了全局用户设置），导致 执行 <code>hexo d</code> 时报错，提示需要配置用户名。</p><p>因此，我们需要  “为 Hexo 博客单独配置指定的 git 用户” 。不过网上的教程大部分都是设置全局用户的方法，在一番折腾之后，我终于找到了的解决方案，就此分享一下。</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>解决方法其实很简单：</p><ol><li><p>首先，打开hexo博客所在的本地文件夹</p></li><li><p>打开此目录下 <code>.deploy_git/.git/</code>  文件夹（.git 为隐藏目录）。另外需要注意，打开的一定是在 “.deploy_key” 目录下的 “.git” 文件夹，外层的 “.git” 文件夹与此无关，即使修改也没有作用。</p></li><li><p>用文本编辑器编辑该目录下的 <code>config</code> 文件，新增如下配置：</p><pre><code class="tex">[user]    name = YourUserName    email = example@example.com</code></pre><p>注意使用你自己的用户名和邮箱替换对应值</p></li><li><p>保存配置文件并退出.</p></li></ol><p>大功告成</p><h2 id="期间踩坑"><a href="#期间踩坑" class="headerlink" title="期间踩坑"></a>期间踩坑</h2><ol><li><p>首先尝试了第一种方法，使用脚本解决，“在hexo deploy之前将全局user更改，deploy完成之后再将user改回。” 不过感觉不太完美</p></li><li><p>然后试了网上另一种方法，删除了 “.deploy_git” 目录，问题确实解决了，但是提交记录全没了（还好删之前有备份）</p></li><li><p>编辑 “config” 时，编辑成博客根目录下的 “.git/config” 导致修改不起效</p></li><li><p>修改了 博客根目录下 “_config.yml” 文件，在其中 <code>deploy</code>部分添加了如下配置：</p><pre><code class="tex">name: YourUserNameemail: example@example.com</code></pre><p>然而，Windows平台下这样做并没有什么用…（据说 Linux平台可以使用此方法）</p></li></ol><p>p.s. 上述部分方法来自 Github 上 Hexo 项目的 <a href="https://github.com/hexojs/hexo/issues/2125" target="_blank" rel="noopener">issue #2125 能否hexo deploy 时指定git账户</a> </p>]]></content>
      
      
      <categories>
          
          <category> Technology </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>“此电话号码无法用于进行验证”？解决Google 账户注册时中国手机号的验证问题</title>
      <link href="/2020/04/09/google-register/"/>
      <url>/2020/04/09/google-register/</url>
      
        <content type="html"><![CDATA[<h2 id="遇到问题"><a href="#遇到问题" class="headerlink" title="遇到问题"></a>遇到问题</h2><p>当你辛辛苦苦地准备好“网络环境”，准备注册Google 账户时…..</p><p>却被突如其来的提示无情地打断： <strong>“此电话号码无法用于进行验证”</strong></p><p>（无话可说。。。）</p><p><img src="notallow.png" alt=""></p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><blockquote><p><em>截至文章发布日期亲测有效…</em></p><p><em>梯子请自行解决…</em></p></blockquote><ol><li>准备浏览器：Google Chrome 或者 Microsoft Edge （新版）</li><li>在浏览器中打开设置 - 高级设置 - 语言，添加 “英语”</li><li>重新排序语言，把 “英语” 设置为首选（移到顶部）</li><li>在新标签页 打开 <a href="https://www.google.com/" target="_blank" rel="noopener">google.com</a>  (推荐使用 无痕窗口)，我们会发现网页语言变成了英文</li><li>按照正常步骤操作，此时 中国手机号码 也可以成功验证了！</li></ol><p><img src="success.png" alt=""></p><h2 id="温馨提示"><a href="#温馨提示" class="headerlink" title="温馨提示"></a>温馨提示</h2><p>注册成功后，为了<strong>减少账户被封禁的风险</strong>，建议：</p><ol><li>不要在多个设备频繁登录</li><li>登录时 ip 地址尽量减少变动（特别是国内公共梯子，ip都是共享的，很容易被google风控）</li><li>完善一些个人信息，比如上传头像，绑定手机等</li><li>多使用关联 google账户 的服务，比如 Gmail，Google play 等等。</li></ol><p>总之，<strong>不要</strong> 让自己的账户看起来像 <strong>“批量注册” 的 “机器人”</strong></p>]]></content>
      
      
      <categories>
          
          <category> Technology </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Google </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>为Hexo博客仓库配置独立的Deploy Key（git）</title>
      <link href="/2020/03/23/Hexo-Deploy-Key-git/"/>
      <url>/2020/03/23/Hexo-Deploy-Key-git/</url>
      
        <content type="html"><![CDATA[<h2 id="Why"><a href="#Why" class="headerlink" title="Why?"></a>Why?</h2><h3 id="关于-ssh-key-与-deploy-key"><a href="#关于-ssh-key-与-deploy-key" class="headerlink" title="关于 ssh-key 与 deploy-key"></a>关于 ssh-key 与 deploy-key</h3><p>ssh-key 是用于认证 Github 账户的密钥，对所有的 repository (下文简写为 repo ) 都有操作权限；而 deploy-key 只允许对特定 repo 进行操作，每个 repo 的 deploy key 都是独有的，其他 repo 无法使用相同的 key。</p><p>下面是 Github 官方的说明：</p><blockquote><p>Deploy key is a SSH key set in your repo to grant client read-only (as well as r/w, if you want) access to your repo.</p><p>As the name says, its primary function is to be used in the deploy process, where only read access is needed. Therefore keep the repo safe from the attack, in case the server side is fallen.</p></blockquote><p>出于安全考虑（<del>尝试新事物</del>），我决定为托管在 Github 上的这个博客配置单独的 deploy-key.</p><h2 id="What-to-do"><a href="#What-to-do" class="headerlink" title="What to do?"></a>What to do?</h2><h3 id="创建-deploy-key"><a href="#创建-deploy-key" class="headerlink" title="创建 deploy key"></a>创建 deploy key</h3><p><em>p.s. 以下演示均在 Windows 平台完成；终端均为 “cmd”</em></p><p>打开终端，切换到你的账户的主文件夹：</p><pre><code class="bash">cd /d &quot;%HOMEDRIVE%%HOMEPATH%&quot;</code></pre><p>然后输入命令：</p><pre><code class="bash">ssh-keygen -t rsa -f &quot;.\.ssh\deploy_key_blog&quot; -C &quot;用于区分key的注释&quot;</code></pre><p><strong>其中 <code>deploy_key_blog</code> 是新密钥的名字，可以自己修改，不要和已有密钥重名。</strong></p><p>回车之后，一般会出现：</p><pre><code class="bash">Generating public/private rsa key pair.Enter passphrase (empty for no passphrase):</code></pre><p>这个是让你为私钥设置密码的，不需要的话什么都不用输，“连续按两次回车” 即可进入下一环节。</p><p>如果成功，你会看到类似这样的输出：</p><pre><code class="bash">Your identification has been saved in .\.ssh\deploy_key_blog.Your public key has been saved in .\.ssh\deploy_key_blog.pub.The key fingerprint is:SHA256: “这里是一大串字符”   example@example.com  # 这里是你的邮箱The key&#39;s randomart image is:+---[RSA 2048]----+# 这中间是一张随机图像# 这中间是一张随机图像# 这中间是一张随机图像+----[SHA256]-----+</code></pre><p>这样，一个 deoloy key 就创建完成了</p><h3 id="部署-deploy-key"><a href="#部署-deploy-key" class="headerlink" title="部署 deploy key"></a>部署 deploy key</h3><ol><li>在 Github 网页端登陆账号，然后打开 Hexo 博客所在的 repo 。</li><li>先点击横向菜单栏中的 <code>“Settings”</code> ，接下来在左侧纵向菜单栏点击 <code>“Deploy keys”</code> 。</li><li>点击 <code>Add deploy key</code> ，Title 可以随便起（用于自己区分）。</li><li>打开用户主文件夹中的 .ssh 文件夹（可能是隐藏文件），用文本编辑工具打开刚刚生成的 <code>“deploy_key_blog.pub”</code> 。（注意，是 .pub 后缀的文件）</li><li>复制文件中的所有内容（应以 ssh-rsa 开头），粘贴到网页中 Key 文本框中，然后勾选 <code>“Allow write access”</code>，点击 <code>“Add key”</code> 即可。</li></ol><h3 id="修改配置-config"><a href="#修改配置-config" class="headerlink" title="修改配置 config"></a>修改配置 config</h3><ol><li><p>打开用户主文件夹下的 “.ssh” 文件夹，右键 - “Git Bash Here” ，输入 <code>touch config</code> 然后回车。</p><p>也可以新建一个文本文档，然后重命名为 config （没有后缀名）</p></li><li><p>用文本编辑工具打开 config ，写入下列内容：</p><pre><code class="tex"># 第一个账号(默认使用的账号)，一般不用更改Host github.com    HostName github.com    User git    IdentityFile ~/.ssh/id_rsa# 第二个新账号，其中&quot;hexo&quot;为前缀名，可以任意设置，要记住，后面需要用到# 最后一行的 deploy_key_blog 是你创建的新密钥的名称（根据实际情况替换）Host xxxxxx.github.com    HostName github.com    User git    IdentityFile ~/.ssh/deploy_key_blog</code></pre></li><li><p>保存 / 另存为  ，编码选择 “UTF-8 ” 。</p></li><li><p>打开终端 输入下列指令（其中 “hexo” 是你刚刚设置的 Host）:</p><pre><code class="bash">ssh -T git@hexo.github.com</code></pre><p>如果显示下列信息，表示配置成功：</p><pre><code class="tex">Hi 你的用户名/repo名! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</code></pre></li></ol><h3 id="修改配置-config-yml"><a href="#修改配置-config-yml" class="headerlink" title="修改配置 _config.yml"></a>修改配置 _config.yml</h3><ol><li><p>用文本编辑器打开 博客本地 repo 中根目录下的 _config.yml ，修改 deploy 部分如下（其中 ”hexo.github.com“ 是你刚刚设置的 Host）：</p><pre><code class="tex">deploy:  type: git  repository: git@hexo.github.com:你的用户名/你的用户名.github.io.git  branch: master</code></pre></li><li><p>打开终端，切换工作路径为 “博客本地 repo 的根目录“ ，输入 <code>hexo g &amp;&amp; hexo d</code> 即可提交。</p></li></ol><h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p>参考资料：</p><ol><li><a href="https://www.itrhx.com/2019/01/18/A16-deploy-two-or-more-hexo-blogs/" target="_blank" rel="noopener">一台电脑使用两个/多个GitHub账号部署两个/多个Hexo博客 </a> 作者：<a href="https://github.com/TRHX" target="_blank" rel="noopener">TRHX</a></li></ol><p>在此表示感谢！</p>]]></content>
      
      
      <categories>
          
          <category> Technology </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Github </tag>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2020/03/20/hello-world/"/>
      <url>/2020/03/20/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre><code class="bash">$ hexo new &quot;My New Post&quot;</code></pre><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre><code class="bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre><code class="bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre><code class="bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hello world </tag>
            
            <tag> Others </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
